<%- include('../partials/head', {tituloWeb: 'Editar producto'})%>
<body>
  <%- include('../partials/header')  %> 
  
    <main class="product-List">
      <aside class="options-container">
        <ul>
          <li class="button"><a href="/products/createProduct"> Crear producto</a></li>
          <li class="button"><a href="/products">Listado de productos</a></li>
        </ul>
      </aside>
  <main class="np-newProduct">
   
<!--  Faltababa el   enctype="multipart/form-data"  para que el PUT pase por el middleware de Multer-->

      <form action="/products/<%=producto.id%>/edit?_method=PUT" method="POST"   class="np-new-product-form" enctype="multipart/form-data">
        <div class="np-main-features">
          <input type="text" name="nombre" value="<%=producto.nombre%>">
          <input type="text" name="precio" value="<%=producto.precio%>">
          <input type="text" name="material" value="<%=producto.material%>">
          <!-- <input type="text" name="material-base" placeholder="Material Base"> -->
          <input type="text" name="tipo" value="<%=producto.tipo%>">
          <input type="text" name="descripcion" value="<%=producto.descripcion%>">
        </div>

        <div class="form-image-edit">
          <figure class="ep-prev-image-container">
            <img class="image-edit ep-prev-image" src="<%=producto.imagen%>" alt="imagen a editar" width="150" height="150">
            </figure>
            <input type="hidden" name="oldImage" value="<%=producto.imagen%>">
            <!--De esta forma logro conservar y que viaje la imagen anterior de esta forma evito que el usuario seleccione una imagen nuevamente, ( si no lo desea) -->
            <input type="file" name="newImage" id="file" >
            <!--<input type="file" class="custom-file-input" id="inputGroupFile01" aria-describedby="inputGroupFileAddon01" name="imagen" required value=""> 
            
            <label class="custom-file-label" for="inputGroupFile01">Seleccione una imagen...</label>-->
            </div>

        <div class="ep-add-features">
         <input type="submit" value="Editar" class="ep-edit-btn">
        </div>
      </form>
  </main>
  
<%- include('../partials/footer')  %> 
</body>
</html>

    