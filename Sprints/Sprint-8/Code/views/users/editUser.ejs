<%- include('../partials/head', {tituloWeb: 'Editar producto'})%>
<body>
  <%- include('../partials/header')  %> 
  <div class="detras-header"></div>   
    <main class="product-List">
      <aside class="options-container">
        <ul>
        <!--   <li><a href="/products/createProduct"> Crear producto</a></li>
          <li><a href="/products">Listado de productos</a></li>-->
         <li> Modificar usuario</li>
        </ul>
      </aside>
  <main class="np-newProduct">
   
<!--  Faltababa el   enctype="multipart/form-data"  para que el PUT pase por el middleware de Multer-->

      <form action="/users/<%=usuario.id_users%>/edit?_method=PUT" method="POST"   class="np-new-product-form" enctype="multipart/form-data">
        <div class="np-main-features">
          <input type="text" name="nombre" value="<%=usuario.nombre%>">
          <input type="text" name="apellido" value="<%=usuario.apellido%>">
          <input type="email" name="email" value="<%=usuario.email%>">
          <!-- <input type="text" name="material-base" placeholder="Material Base"> -->
          <input type="password" name="password">
          <input type="text" name="categoria" value="<%=usuario.categoria%>">
        </div>

        <div class="form-image-edit">
          <figure class="ep-prev-image-container">
            <img class="image-edit ep-prev-image" src="<%=usuario.imagen%>" alt="imagen a editar" width="150" height="150">
            </figure>
            <input type="hidden" name="oldImage" value="<%=usuario.imagen%>">
            <!--De esta forma logro conservar y que viaje la imagen anterior de esta forma evito que el usuario seleccione una imagen nuevamente, ( si no lo desea) -->
            <input type="file" name="newImage" id="file" >
            <!--<input type="file" class="custom-file-input" id="inputGroupFile01" aria-describedby="inputGroupFileAddon01" name="imagen" required value=""> 
            
            <label class="custom-file-label" for="inputGroupFile01">Seleccione una imagen...</label>-->
            </div>

        <div class="ep-add-features">
         <input type="submit" value="Editar" class="ep-edit-btn">
        </div>
      </form>
  </main>
  
<%- include('../partials/footer')  %> 
</body>
</html>
